<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>form</title>
    <style>
       
    </style>
    <!-- 新 Bootstrap4 核心 CSS 文件 -->
<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
 
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
 
<!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
<script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>
 
<!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container-fluid">
    <form  class="form-inline">
    <div class="form-group">
    <select id="region-select">
        <option value="华东">华东</option>
        <option value="华南">华南</option>
        <option value="华北">华北</option>
    </select>
    </div>
    <div class="form-group">
    <select id="product-select">
            <option value="手机">手机</option>
            <option value="笔记本">笔记本</option>
            <option value="智能音箱">智能音箱</option>
        </select>
    </div>
    </form>
    <div id="table-wrapper">
    </div>
    </div>
    <script>
    var form = document.getElementsByTagName("form")[0];
    var selectBox = document.getElementById("region-select");
    var productSelect = document.getElementById("product-select");
    var tableWrapper = document.getElementById("table-wrapper");
    form.addEventListener("change",handlerEvent);
    function handlerEvent(){
        tableWrapper.removeChild(tableWrapper.firstChild);
        createTable(getRegionSelectResult(),getProductSelectResult());

    }

    function getRegionSelectResult() {
        var selectResult = selectBox.value;
        console.log(selectResult);
        return selectResult;
    }
    function getProductSelectResult() {
        var productSelectResult = productSelect.value;
        console.log(productSelectResult);
        return productSelectResult;
    }

    function createTable(data1,data2) {
    var tableData = document.createElement("table");
    tableData.setAttribute("class","table");
    tableData.innerHTML = "<thead><th>商品</th><th>地区</th><th>1月</th><th>2月</th><th>3月</th><th>4月</th><th>5月</th><th>6月</th><th>7月</th><th>8月</th><th>9月</th><th>10月</th><th>11月</th><th>12月</th></thead>";
    let sourceData = [{
    product: "手机",
    region: "华东",
    sale: [120, 100, 140, 160, 180, 185, 190, 210, 230, 245, 255, 270]
}, {
    product: "手机",
    region: "华北",
    sale: [80, 70, 90, 110, 130, 145, 150, 160, 170, 185, 190, 200]
}, {
    product: "手机",
    region: "华南",
    sale: [220, 200, 240, 250, 260, 270, 280, 295, 310, 335, 355, 380]
}, {
    product: "笔记本",
    region: "华东",
    sale: [50, 60, 80, 110, 30, 20, 70, 30, 420, 30, 20, 20]
}, {
    product: "笔记本",
    region: "华北",
    sale: [30, 35, 50, 70, 20, 15, 30, 50, 710, 130, 20, 20]
}, {
    product: "笔记本",
    region: "华南",
    sale: [80, 120, 130, 140, 70, 75, 120, 90, 550, 120, 110, 100]
}, {
    product: "智能音箱",
    region: "华东",
    sale: [10, 30, 4, 5, 6, 5, 4, 5, 6, 5, 5, 25]
}, {
    product: "智能音箱",
    region: "华北",
    sale: [15, 50, 15, 15, 12, 11, 11, 12, 12, 14, 12, 40]
}, {
    product: "智能音箱",
    region: "华南",
    sale: [10, 40, 10, 6, 5, 6, 8, 6, 6, 6, 7, 26]
}];
    var tbodytxt = "";
    for(let i=0,len=sourceData.length;i<len;i++ ) {
        var txt = "",saleData=sourceData[i]["sale"];
        if(sourceData[i]["region"]===data1||sourceData[i]["product"]===data2){
        for(let j=0,len=saleData.length;j<len;j++){
        txt += "<td>" +saleData[j]+"</td>";
        }
        txt = "<tr>"+"<td>"+sourceData[i]['product']+"</td>"+"<td>"+sourceData[i]['region']+"</td>"+txt+"</tr>";
        tbodytxt += txt;
        }      
    }
    tableData.innerHTML += "<tbody>"+tbodytxt+"</tbody>";
    tableWrapper.appendChild(tableData);
}


    </script>
</body>
</html>